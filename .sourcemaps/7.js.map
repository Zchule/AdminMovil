{"version":3,"sources":["../../src/pages/info-map/info-map.module.ts","../../src/pages/info-map/info-map.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { InfoMapPage } from './info-map';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InfoMapPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(InfoMapPage),\r\n  ],\r\n})\r\nexport class InfoMapPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/info-map/info-map.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController} from 'ionic-angular';\r\n\r\nimport { Geolocation, Geoposition } from '@ionic-native/geolocation';\r\n\r\ndeclare var google;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-info-map',\r\n  templateUrl: 'info-map.html',\r\n})\r\nexport class InfoMapPage {\r\n\r\n  map: any;\r\n  directionsService: any = null;\r\n  directionsDisplay: any = null;\r\n  bounds: any = null;\r\n  myLatLng: any;\r\n  waypoints: any[];\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public geolocation: Geolocation\r\n    ) {\r\n\r\n      this.directionsService = new google.maps.DirectionsService();\r\n        this.directionsDisplay = new google.maps.DirectionsRenderer();\r\n        this.bounds = new google.maps.LatLngBounds();\r\n\r\n          this.waypoints = [\r\n            {\r\n              location: { lat: 4.6241329, lng: -74.1768411 },\r\n              stopover: true,\r\n            },\r\n            {\r\n              location: { lat: 4.6247745, lng: -74.1698888 },\r\n              stopover: true,\r\n            },\r\n            {\r\n              location: { lat: 4.6212241, lng: -74.1631081 },\r\n              stopover: true,\r\n            },\r\n            {\r\n              location: { lat: 4.6222508, lng: -74.1667989 },\r\n              stopover: true,\r\n            }\r\n          ];\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.getPosition();\r\n  }\r\n   getPosition():any{\r\n    this.geolocation.getCurrentPosition().then(response => {\r\n      this.loadMap(response);\r\n      })\r\n    .catch(error =>{\r\n      console.log(error);\r\n    })\r\n\r\n   }\r\n\r\n  loadMap(position: Geoposition){\r\n    let latitude = position.coords.latitude;\r\n    let longitude = position.coords.longitude;\r\n    console.log(latitude, longitude);\r\n    // create a new map by passing HTMLElement\r\n    let mapEle: HTMLElement = document.getElementById('map');\r\n    let panelEle: HTMLElement = document.getElementById('panel');\r\n  \r\n    // create LatLng object\r\n    this.myLatLng = {lat: latitude, lng: longitude};\r\n\r\n    var bounds = new google.maps.LatLngBounds();\r\n    bounds.extend(this.myLatLng);\r\n  \r\n    // create map\r\n    this.map = new google.maps.Map(mapEle, {\r\n      center: this.myLatLng,\r\n      zoom: 12\r\n    });\r\n  \r\n    this.directionsDisplay.setMap(this.map);\r\n    this.directionsDisplay.setPanel(panelEle);\r\n  \r\n    google.maps.event.addListenerOnce(this.map, 'idle', () => {\r\n      mapEle.classList.add('show-map');\r\n      this.calculateRoute();\r\n    });\r\n\r\n  }\r\n    \r\n  private calculateRoute(){\r\n\r\n  this.bounds.extend(this.myLatLng);\r\n  \r\n    this.waypoints.forEach(waypoint => {\r\n      var point = new google.maps.LatLng(waypoint.location.lat, waypoint.location.lng);\r\n      this.bounds.extend(point);\r\n    });\r\n  \r\n    this.map.fitBounds(this.bounds);\r\n \r\n\r\n    this.directionsService.route({\r\n      origin: new google.maps.LatLng(this.myLatLng.lat, this.myLatLng.lng),\r\n      destination: new google.maps.LatLng(this.myLatLng.lat, this.myLatLng.lng),\r\n      waypoints: this.waypoints,\r\n      optimizeWaypoints: true,\r\n      travelMode: google.maps.TravelMode.DRIVING,\r\n      avoidTolls: true\r\n    }, (response, status)=> {\r\n      if(status === google.maps.DirectionsStatus.OK) {\r\n        console.log(response);\r\n        this.directionsDisplay.setDirections(response);\r\n      }else{\r\n        alert('Could not display directions due to: ' + status);\r\n      }\r\n    });\r\n\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/info-map/info-map.ts"],"sourceRoot":""}